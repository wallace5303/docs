---
title: 配置
date: 2023-11-30 11:12:19
article: false
permalink: /pages/9fd5ba/
---

配置分为3个部分
- `./electron/config/bin.js` 开发模式配置，仅 `dev` 环境使用
- `./electron/config/config.*.js` electron配置，把 `electron` 和 `go程序` 关联起来。
- `./go/config ` go程序的一些配置

### 一、开发模式配置
位置
```bash
# 目录
./electron/config/bin.js
```

请查看文档：[**bin.js**](/pages/c492f8/)中 go相关部分

主要看

### 二、electron配置
位置
```bash
# 目录
./electron/config/config.*.js
```

请查看文档：[**config.*.js**](/pages/f7cbf9/)中 `cross` 部分

### 三、go程序配置
位置
```bash
# 目录
./go/config/*

# 说明
config.default.json // 默认配置文件，开发环境和生产环境都会加载
config.local.json   // 开发环境配置文件，追加和覆盖default配置文件
config.prod.json    // 生产环境配置文件，追加和覆盖default配置文件
```

内容
```javascript
{
    // 业务日志
    "logger": {
        // 是否输出位json格式
        "output_json": false, 
        // 日志等级 
        "level":      "info",
        // 名称
		"filename":   "ee-go.log",
        // MaxSize 进行切割之前，日志文件的最大大小(MB为单位)
		"max_size":    1024,
        // 根据文件名中编码的时间戳保留旧日志文件的最大天数
		"max_age":     10
    },
    // 框架日志
    "core_logger": {
        "output_json": false,
        "level":      "info",
		"filename":   "ee-go-core.log",
		"max_size":    1024,
		"max_age":     10
    },
    // http服务
    "http": {
        // 是否启用，目前是必须的
        "enable": true,
        // 端口，优先级最低；框架优先使用 electron/config/* 配置中传递给go程序的端口
        "port": 7073,
        // 是否开启网络伺服器；默认hostname是 127.0.0.1，如果开启则hostname为 0.0.0.0
        "network": false
    },
    // 将静态资源打包进go的二进制程序中，生产环境使用。
    // 如果关闭的话，需要手动将相关资源放置的到 额外资源目录
    // 构建go程序之前，必须运行 npm run move 命令（见下方说明），将 相关资源 复制到 ./go/public/
    "static": {
        "enable": true,
        // 必须，程序基础信息
        "package": "public/package.json",
        // 必须，go config
        "config": "public/config",
        // 必须，前端资源
        "dist": "public/dist",
        // 可选，一些页面
        "html": "public/html",
        // 可选，ssl证书
        "ssl": "public/ssl"
    }
}
```


