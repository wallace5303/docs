(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{399:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),s("p",[t._v("这里总结了开发时遇到的常见问题，方便开发者快速找到解决方案。")]),t._v(" "),s("p",[t._v("如果没有找到，还可以查查issue")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://gitee.com/dromara/electron-egg/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitee issue"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dromara/electron-egg/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("github issue"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"_1-打包时-下载资源超时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-打包时-下载资源超时"}},[t._v("#")]),t._v(" 1：打包时，下载资源超时")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用国内源，参见 安装 或 生成软件 教程")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-打包失败-异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-打包失败-异常"}},[t._v("#")]),t._v(" 2：打包失败（异常）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误1：python 。。。。。\n解决：升级构建包，npm "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" electron-builder@23.0.6\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误2：打包报错Fatal error: Unable to commit changes\n原因：\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 磁盘是不是满了 ，这个坑也困扰了我半个小时，虽然不长，但是是低级错误\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". 杀毒软件，我把电脑管家关了就好了，还有mcfee，麦克非那个杀毒等等。\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". 使用makensis包时，账户名为中文，构建异常。\n解决：\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 清理磁盘\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". 退出杀毒软件\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". https://www.azimiao.com/6250.html\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误3："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("app.asar does not exist "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n解决：electron-egg/目录中，如果有app目录，则该目录必须是个普通文件目录，不能为项目目录，\n比如，app/目录内，不能有 .git、 package.json、node_modules等文件。\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误4："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".Need executable "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ar'")]),t._v(" to convert "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),t._v(" to deb\n原因：fpm 工具需要 ar 命令才能打包deb, 安装binutils\n解决：sudo "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" binutils\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误5："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".Cannot "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" module "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs/promises'")]),t._v("\n原因：electron-builder包版本太高，一些语法不兼容\n解决：降低electron-builder版本，重新安装包：electron-builder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22.10")]),t._v(".5\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误6："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" better-sqlite@7.6.2 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n原因：sqlite需要更高版本的node.js\n解决：更新node.js "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14.21")]),t._v(".1\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误7："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("errorOUt")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/home/hzx/.cache/electron-builder/fpm/fpm-1.9.3-2.3.1-linux-x86/lib/ruby/bin/ruby "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n原因：fpm没有相匹配的arm包，所以会去下载仓库中有的包！\n解决：本地安装ruby并配置中国数据源，重新下载fpm包，最后使用软连接的方式链接fpm，重新执行打包命令该问题可解决）\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ruby-full\ngem sources "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--add")]),t._v(" https://gems.ruby-china.com/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--remove")]),t._v(" https://rubygems.org/\ngem sources "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" gem "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" fpm\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/.cache/electron-builder/fpm/fpm-1.9.3-2.3.1-linux-X86_64/ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#版本有可能不同，根据实际情况更改")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rf")]),t._v(" fpm\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ln")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" /usr/local/bin/fpm fpm\n")])])]),s("h3",{attrs:{id:"_3-打包后-运行闪退-或-报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-打包后-运行闪退-或-报错"}},[t._v("#")]),t._v(" 3：打包后，运行闪退 或 报错")]),t._v(" "),s("blockquote",[s("p",[t._v("闪退")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开发模式正常，打包后运行闪退")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 查看日志中是否有报错\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". 在cmd中运行程序，可看到打包后的程序运行是否有异常错误（日志中没有的）\n如：d:/soft/electron-egg.exe   按“回车”\n\n")])])]),s("blockquote",[s("p",[t._v("报错1：代码被过滤")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" JavaScript error occurred "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the main process \nUncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" \nAssertionError "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ASSERTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Directory "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\electron not exists \nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EeCore")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\core\\lib\\ee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseApp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\lib\\baseApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EeApp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\lib\\eeApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Appliaction")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\lib\\application"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("67")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("anonymous"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files\\ee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1078")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("js")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1108")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("935")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \nat "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Modulejoad")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("776")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),s("p",[t._v("提示： ./app.asar/electron not exits")]),t._v(" "),s("p",[t._v("原因：未使用加密功能，但是把源码过滤了，导致找不到代码。")]),t._v(" "),s("p",[t._v("处理：请查看 "),s("RouterLink",{attrs:{to:"/pages/383ba6/"}},[t._v("代码加密文档")])],1),t._v(" "),s("blockquote",[s("p",[t._v("报错2：bytecode加密时，代码不规范")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" JavaScript error occurred "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the main process\nUncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("TypeError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Class constructor ExampleService cannot be invoked without "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("at")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getExports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Program Files ee resources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarnode modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core core liblloader\\file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat ContextLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Program Files ee resources app asarnode modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core core liblloader\\file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat ContextLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Filesleeresources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarnode modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core coreiblloader\\file loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat AppLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadToContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Program Files eeresources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarnode modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core coreliblloader'ee loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat AppLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Prog am Files eeresources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarnode modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core corelib\\loader\\mixin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("servi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat AppLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v("\\Program Files ee resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("node modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core ib\\appLoaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Fileseeresources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar node modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core ib baseApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EeApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v("\\Program Files ee resources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarnode modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core ib eeApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Appliaction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Fileslee resources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar node modules ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core lib\\applicationjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("67")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Files eeresources app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarmain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("显示 TypeError Class constructor ExampleService cannot be invoked withou 'new' at ......")]),t._v(" "),s("p",[t._v("原因：每个加密的class文件，需要添加 "),s("strong",[t._v("toString()")]),t._v(" 方法")]),t._v(" "),s("p",[t._v("处理：请查看 "),s("RouterLink",{attrs:{to:"/pages/383ba6/"}},[t._v("代码加密文档")]),t._v(" 中 "),s("strong",[t._v("代码要求")])],1),t._v(" "),s("blockquote",[s("p",[t._v("报错3：bytecode、strict 加密，要区分系统；比如window-64只能构建64软件，不能构建32位\n如下图，用win64构建的32位软件，是无法运行的。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" JavaScript error occurred "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the main process\nUncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("egg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" load file"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program Fileslee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v("\\electron\\config config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultjsc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Invalid Or incompatible cached "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cachedDataRejected"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("computed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jsc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v("\\Program Filesleelresourceslapp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("modules\\bytenode\\lib\\indexjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("272")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("935")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("776")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Function"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("js2c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("asar bundlejs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12913")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("959")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Herpers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Program Fileslee\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarlnode moduleslee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("corelcore\\lib\\utils\\indexjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat AppLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Program Filesleelresourceslapp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asarlnode moduleslee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("corelcoreliblloaderlee loaderj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AppLoaderloadFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Program\n")])])]),s("blockquote",[s("p",[t._v("报错4：windows防火墙，授权electron应用访问网络\n可能需要重启电脑")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" JavaScript error occurred "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the main process\nUncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" net"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CONNECTION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REFUSED")]),t._v(" at SimpleURLLoaderWrapper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("anonymous"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("js2c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("browser init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("105")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7068")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("报错5：加密模块报错")])]),t._v(" "),s("p",[t._v("原因：bytenode对electron的版本支持差异化")]),t._v(" "),s("p",[t._v("处理：请调整electron版本，或 bytenode版本")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" JavaScript error occurred "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the main process\nUncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cannot find module xxx\nRequire stack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" xxxx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_module"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bytenode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),s("blockquote",[s("p",[t._v("报错6：模块未找到")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("Uncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\nError Cannot find module "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'semver'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" xxx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("resources"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),s("p",[t._v("原因：使用了非官方的包管理，如：yarn cnpm等")]),t._v(" "),s("p",[t._v("解决方案：\n请使用npm")]),t._v(" "),s("h3",{attrs:{id:"_4-cmd控制台乱码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-cmd控制台乱码"}},[t._v("#")]),t._v(" 4：cmd控制台乱码")]),t._v(" "),s("p",[t._v("参照："),s("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1835811",target:"_blank",rel:"noopener noreferrer"}},[t._v("中文乱码"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"_5-npm包缺失或异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-npm包缺失或异常"}},[t._v("#")]),t._v(" 5：npm包缺失或异常")]),t._v(" "),s("p",[t._v("安装异常时，删掉node_modules和package-lock文件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1、如：cannot find module 'debug'")]),t._v("\n\n解决：npm "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" debug "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--save")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2、npm install安装异常时")]),t._v("\n删掉 package-lock.json\n删掉 node_modules文件夹\n重新执行 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" 或 cnpm "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 备注")]),t._v("\n包问题，都用npm安装，不要用cnpm、pnpm、yarn\n")])])]),s("h3",{attrs:{id:"_6-白屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-白屏"}},[t._v("#")]),t._v(" 6：白屏")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dev模式白屏")]),t._v("\n问题1：先启动前端服务，再启动桌面服务，请查看文档中开发步骤\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打包后白屏")]),t._v("\n可能原因1：前端路由\n前端项目路由是history，改成 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("hash")]),t._v(" 。\n\n可能原因2：代码不生效\n如果执行过加密，则会生成加密代码：/public/electron ，框架优先读取它，源代码则不生效。\n如果发现编写的代码不生效，请记得删除加密代码文件。\n")])])]),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/qq_52126119/article/details/127895336",target:"_blank",rel:"noopener noreferrer"}},[t._v("知识点：为什么不能使用代理？"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"_7-安装-better-sqlite3-失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-安装-better-sqlite3-失败"}},[t._v("#")]),t._v(" 7：安装 better-sqlite3 失败")]),t._v(" "),s("p",[t._v("不同node.js版本，对应的better-sqlite3版本也不尽相同。请尝试 npm i better-sqlite3@7.6.0")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# error 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\nenv: python: No such "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" or directory\nmake: *** "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Release/sqlite3.a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Error "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ba23eeee118cd63e16015df367567cb043fed872.intermediate\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" build error \ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" stack Error: "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" failed with "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" code: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" stack     at ChildProcess.onExit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/Users/apple/.nvm/versions/node/v14.16.0/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:194:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原因")]),t._v("\n需要python环境，（MacOS高版本，不再提供默认python）\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解决方案")]),t._v("\n如Mac系统（其它系统请自己百度Python安装方法）\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". brew "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python@3.9\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ~/.zshrc 添加\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# python")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("python")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/usr/local/bin/python3'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/opt/python@3.9/libexec/bin:'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" ~/.zshrc\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# error 2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" build error \ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" stack Error: "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Program Files "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x86"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MSBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MSBuild.exe"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" failed with "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" code: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" stack     at ChildProcess.onExit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("nvm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("v14.16.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("npm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("node-gyp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("build.js:194:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" stack     at ChildProcess.emit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("events.js:315:20"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" stack     at Process.ChildProcess._handle.onexit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal/child_process.js:277:12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" System Windows_NT "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.0")]),t._v(".19041\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("Program Files"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("nodejs"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v('node.exe"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("nvm"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("v14.16.0"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("npm"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("node-gyp"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v('node-gyp.js"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rebuild"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--release"')]),t._v("\ngyp ERR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" cwd D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("www"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("xing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("oschina-desktop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("better-sqlite3\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原因")]),t._v("\n需要node-gyp工具\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解决方案")]),t._v("\n执行命令：npm i node-gyp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 错误3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\nwas compiled against a different Node.js version using\nNODE_MODULE_VERSION "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("83")]),t._v(". This version of Node.js requires\nNODE_MODULE_VERSION "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),t._v(". Please try re-compiling or re-installing\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原因")]),t._v("\nsqlite包是用c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("c++写的，下载的可执行程序可能与你的操作系统不一致，因此需要根据源代码重新构建。\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解决方案")]),t._v("\n执行命令：npm run re-sqlite\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 错误4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\nError: node-gyp failed to reuild "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("electron-edge-js\nError: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".BuildTools"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MSBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原因")]),t._v("\n缺少微软构建工具\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解决方案")]),t._v("\n执行命令：npm "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--vs2015")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--production")]),t._v(" windows-build-tools\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 其它错误")]),t._v("\n查看 better-sqlite3 文档（Troubleshooting installation）\nhttps://github.com/WiseLibs/better-sqlite3/blob/2194095aa1183e9c21d28eafadeac0d4d4d42625/docs/troubleshooting.md\n\n")])])]),s("h3",{attrs:{id:"_8-在浏览器中打开vue启动的服务地址-http-localhost-8080-报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-在浏览器中打开vue启动的服务地址-http-localhost-8080-报错"}},[t._v("#")]),t._v(" 8：在浏览器中打开vue启动的服务地址（http://localhost:8080）报错")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("错误：Uncaught TypeError: window.require is not a function"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n原因：vue项目中有个demo功能需要访问electron模块，在普通浏览器中是不能解析的。\n处理：尽量在electron启动的窗口中调试前端页面吧。\n")])])]),s("h3",{attrs:{id:"_10-node-module版本不匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-node-module版本不匹配"}},[t._v("#")]),t._v(" 10：node module版本不匹配")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 错误")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\nwas compiled against a different Node.js version using\nNODE_MODULE_VERSION "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("83")]),t._v(". This version of Node.js requires\nNODE_MODULE_VERSION "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),t._v(". Please try re-compiling or re-installing\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原因")]),t._v("\n一些npm包是用c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("c++等其它语言写的，下载的可执行程序可能与你的操作系统不一致，因此需要根据源代码重新构建。\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解决方案")]),t._v("\nelectron-rebuild "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),t._v(" 模块名\n")])])]),s("h3",{attrs:{id:"_11-macos系统下-自动更新失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-macos系统下-自动更新失败"}},[t._v("#")]),t._v(" 11：macOS系统下，自动更新失败")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 尝试关闭asar功能\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 检查确认苹果签名账号\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". 修改package.json中，build对象asar属性值为false\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". 使用代码加密功能，以防源码暴露\n")])])]),s("h3",{attrs:{id:"_12-软件黑屏或者卡死"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-软件黑屏或者卡死"}},[t._v("#")]),t._v(" 12：软件黑屏或者卡死")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("错误： "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERROR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("gpu_memory_buffer_support_x11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n原因：win7或者Linux系统，不支持gpu加速\n处理：在main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("js文件的ready")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法中关闭硬件加速\n伪代码：\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isWin7 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("release")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startsWith")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6.1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isLinux "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isWin7 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" isLinux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disableHardwareAcceleration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_14-代码不生效"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-代码不生效"}},[t._v("#")]),t._v(" 14：代码不生效")]),t._v(" "),s("p",[t._v("如果执行过加密，则会生成加密代码：/public/electron ，框架优先读取它，源代码则不生效。\n如果发现编写的代码不生效，请记得删除加密代码文件。")]),t._v(" "),s("h3",{attrs:{id:"_15-无法识别的class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-无法识别的class"}},[t._v("#")]),t._v(" 15：无法识别的class")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" JavaScript error occurred "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the main process\nUncaught Exception"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("TypeError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Class "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("value")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v(" is not constructor or "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("anonymous"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Users\\Administrator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Desktop e lectron areatool web client\\mainjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1078")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Module extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("js")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("interna"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("108")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("interna l"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("935")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("776")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Function"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e ectron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("js2c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("asa bundlejs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12913")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("oadApplicationPackage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Users\\Administrator Desktop\\electron areatoc web_client\\node modules e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("anonymous"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("Usersv Administrator\\Deskto p ctron areatoo web client\\node modules el"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("oaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1078")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Module extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("js")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("interna l"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loaderjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1108")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("旧的ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core包提供的api，单词拼写有误 Application\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Appliaction "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n# 修改为：\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Application "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/ee'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Application")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_16-无法使用某些-electron-的api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-无法使用某些-electron-的api"}},[t._v("#")]),t._v(" 16：无法使用某些 electron 的api")]),t._v(" "),s("p",[t._v("electron的一些api有引入顺序要求，请将它们放在合适的位置。\n比如：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2023")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("546")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERROR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("77836")]),t._v(" nodejs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unhandledExceptionError"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" load file"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cannot create BrowserWindow before app is ready\n    at Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWindow")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\www\\xing\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\electron\\window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMainWindow")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\www\\xing\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\electron\\index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get mainWindow "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" mainWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\www\\xing\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\electron\\index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("anonymous"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\www\\xing\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\electron\\service\\os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_compile")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1078")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("js")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1108")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("935")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_load")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("776")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Function"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_load")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("js2c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("asar_bundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12913")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cjs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("959")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("解决方案：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("# 不要直接导出模块中某个对象，因为项目启动时，框架源码可能并没有加载完。\n\n# 错误写法\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mainWindow "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" logger "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n# 正确写法\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Electron "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Log "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/log'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_17-双击exe无反应"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_17-双击exe无反应"}},[t._v("#")]),t._v(" 17：双击exe无反应")]),t._v(" "),s("p",[t._v("代码被过滤，请仔细阅读："),s("RouterLink",{attrs:{to:"/pages/ad838d/"}},[t._v("构建文档")])],1),t._v(" "),s("h3",{attrs:{id:"_18-双击exe报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_18-双击exe报错"}},[t._v("#")]),t._v(" 18：双击exe报错")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\test\\electron\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\out\\win"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unpacked"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\test\\electron\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\out\\win"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unpacked\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\log\\logger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("logger")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" sysConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("TypeError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cannot read property "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'logger'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\test\\electron\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\out\\win"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unpacked\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\log\\logger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get coreLogger "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" coreLogger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\test\\electron\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\out\\win"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unpacked\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\log\\index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\test\\electron\\electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg\\out\\win"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unpacked\\resources\\app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asar\\node_modules\\ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core\\exception\\index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("events"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("327")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nat process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_fatalException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("execution"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("163")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 情况一")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这种是临时文件，无法使用，忽略它。")]),t._v("\n临时文件：out/win-unpacked\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 情况二")]),t._v("\n代码被过滤了，请仔细阅读：构建文档\n")])])]),s("h3",{attrs:{id:"_19-运行rd-encrypt-clean命令时报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_19-运行rd-encrypt-clean命令时报错"}},[t._v("#")]),t._v(" 19：运行rd，encrypt ，clean命令时报错")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" node\\r"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" No such file or directory\nerror Command failed "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" exit code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.")]),t._v("\n")])])]),s("p",[t._v("原因：windows系统的换行回车是CRLF，类unix系统下是LF")]),t._v(" "),s("p",[t._v("解决方案：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用vs code打开把行尾序列由CRLF改成LF就可以了")]),t._v("\nnode_modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\nnode_modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tools"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),s("h3",{attrs:{id:"_20-encrypt-命令时报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_20-encrypt-命令时报错"}},[t._v("#")]),t._v(" 20：encrypt 命令时报错")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("error Cannot find module "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node:assert/strict'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" xxx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bytenode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" xxx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("egg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tools"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("encrytp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),s("p",[t._v("原因：bytenode 模块的bug")]),t._v(" "),s("p",[t._v("解决方案：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 安装一个指定版本 v1.3.6")]),t._v("\nnpm uninstall bytenode\nnpm install bytenode@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.3")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".6")]),t._v("\n")])])]),s("h3",{attrs:{id:"_21-忽略ssl证书错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_21-忽略ssl证书错误"}},[t._v("#")]),t._v(" 21：忽略ssl证书错误")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERROR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("ssl_client_impl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("983")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" handshake failed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" returned "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SSL")]),t._v(" error code "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" net_error\n")])])]),s("p",[t._v("原因：开发者可能加载了不安全的地址")]),t._v(" "),s("p",[t._v("解决方案：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生命周期文件 electron/index.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" electronApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    electronApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commandLine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendSwitch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ignore-certificate-errors'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_22-自动升级时-没有生成-latest-yml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_22-自动升级时-没有生成-latest-yml"}},[t._v("#")]),t._v(" 22：自动升级时，没有生成 latest.yml")]),t._v(" "),s("p",[t._v("解决方案：")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("./config/builder.js")]),t._v(" 中，添加如下")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"nsis"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"oneClick"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加这部分代码")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"publish"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"provider"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"generic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h3",{attrs:{id:"_23-config-初始化未完成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_23-config-初始化未完成"}},[t._v("#")]),t._v(" 23：config 初始化未完成")]),t._v(" "),s("p",[t._v("内置模块调用报错，不要在顶部导入属性（或实例化模块对象），因为项目启动时，框架源码可能并没有加载完。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2023")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("546")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERROR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("77836")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ee"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Frame initialization is not complete "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),s("p",[t._v("解决方案：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("# 不要直接导出模块中某个对象，因为项目启动时，框架源码可能并没有加载完。\n\n# 错误写法\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" logger "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/electron'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n# 正确写法\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Log "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ee-core/log'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_24-api-404、跨域问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_24-api-404、跨域问题"}},[t._v("#")]),t._v(" 24：api 404、跨域问题")]),t._v(" "),s("p",[t._v("原因：electron 为了安全，默认不允许跨域，即前端发送http请求访问其它服务的 api 时候，会报错。\n或者，提示 api 404 错误。")]),t._v(" "),s("p",[t._v("解决方案：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用了代理proxy，导致api找不到")]),t._v("\n\n解决方法：\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("：把代理模式，换成 环境变量模式，如：在"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env（开发环境、生产环境）文件里定义多个url变量并赋值，代码中的url地址\n用环境变量代替。\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("：设置config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json中的windowsOption"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webPreferences"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webSecurity"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("：关闭同源策略\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("electron"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// const { app: electronApp } = require("electron");')]),t._v("\n  electronApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commandLine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendSwitch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"disable-web-security"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);