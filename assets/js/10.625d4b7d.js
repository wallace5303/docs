(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{375:function(t,s,a){"use strict";a.r(s);var e=a(14),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"框架架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架架构"}},[t._v("#")]),t._v(" 框架架构")]),t._v(" "),s("h3",{attrs:{id:"v3-版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v3-版本"}},[t._v("#")]),t._v(" v3 版本")]),t._v(" "),s("p",[t._v("单业务进程 + 模块化 + 多任务，适合小/中/大项目，兼顾开发效率 和 后期维护，兼容v2版本。")]),t._v(" "),s("h3",{attrs:{id:"进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[t._v("#")]),t._v(" 进程")]),t._v(" "),s("p",[t._v("框架有三种进程")]),t._v(" "),s("ul",[s("li",[t._v("ee主进程：业务逻辑")]),t._v(" "),s("li",[t._v("ee渲染进程：软件界面UI")]),t._v(" "),s("li",[t._v("ee任务进程：耗时业务")])]),t._v(" "),s("h3",{attrs:{id:"通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通信"}},[t._v("#")]),t._v(" 通信")]),t._v(" "),s("ul",[s("li",[t._v("ipc：前端 ⇋ 业务层 （双向通信）")]),t._v(" "),s("li",[t._v("http： 前端、命令行、浏览器 ⇋ 业务层 （单向通信）")]),t._v(" "),s("li",[t._v("socket：前端 ⇋ 业务层 （双向通信）")])]),t._v(" "),s("h3",{attrs:{id:"本地存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地存储"}},[t._v("#")]),t._v(" 本地存储")]),t._v(" "),s("ul",[s("li",[t._v("json数据库")]),t._v(" "),s("li",[t._v("sqlite数据库")])]),t._v(" "),s("h3",{attrs:{id:"核心包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心包"}},[t._v("#")]),t._v(" 核心包")]),t._v(" "),s("p",[s("code",[t._v("ee-bin")]),t._v(" 提供命令行工具，开发环境使用。")]),t._v(" "),s("p",[s("code",[t._v("ee-core")]),t._v(" 提供框架核心功能。")]),t._v(" "),s("p",[s("code",[t._v("ee-go")]),t._v(" "),s("code",[t._v("(可选)")]),t._v(" 提供 "),s("code",[t._v("go")]),t._v(" 语言支持。")]),t._v(" "),s("h3",{attrs:{id:"功能划分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能划分"}},[t._v("#")]),t._v(" 功能划分")]),t._v(" "),s("h4",{attrs:{id:"软件界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#软件界面"}},[t._v("#")]),t._v(" 软件界面")]),t._v(" "),s("p",[s("code",[t._v("frontend")]),t._v(" 目录，开发软件界面；支持任意前端技术，如"),s("code",[t._v("vue")]),t._v("、"),s("code",[t._v("react")]),t._v("、"),s("code",[t._v("angular")]),t._v("、"),s("code",[t._v("html")]),t._v("、"),s("code",[t._v("vite")]),t._v(" 等")]),t._v(" "),s("h4",{attrs:{id:"业务逻辑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#业务逻辑"}},[t._v("#")]),t._v(" 业务逻辑")]),t._v(" "),s("p",[s("code",[t._v("electron")]),t._v(" 目录，开发业务逻辑；常规业务逻辑、调用操作系统api、访问远程服务器api等")]),t._v(" "),s("p",[s("code",[t._v("go")]),t._v(" 目录(可选)，开发业务逻辑；利用go的跨平台、高性能，大幅提升软件体验。")]),t._v(" "),s("h3",{attrs:{id:"开发者模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发者模式"}},[t._v("#")]),t._v(" 开发者模式")]),t._v(" "),s("h4",{attrs:{id:"安装依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[t._v("#")]),t._v(" 安装依赖")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 根目录，安装 electron 依赖")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入【前端目录】安装 frontend 依赖")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" frontend \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i\n")])])]),s("h4",{attrs:{id:"启动方式一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动方式一"}},[t._v("#")]),t._v(" 启动方式一")]),t._v(" "),s("blockquote",[s("p",[t._v("ee-bin: v1.2.0")])]),t._v(" "),s("blockquote",[s("p",[t._v("ee-core: v2.5.0")])]),t._v(" "),s("p",[t._v("新版本可同时启动 前端 & 主进程，也可以分开启动。")]),t._v(" "),s("p",[t._v("electron业务代码暂不支持热更（修改代码后需重新启动），如果前端启动时间长，则建议分开启动。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("第一次启动时，窗口弹窗稍慢，同时会加载一个 "),s("code",[t._v("loading")]),t._v(" 页面（仅dev环境），请耐心等待。")])]),t._v(" "),s("p",[t._v("配置 "),s("code",[t._v("package.json")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ee-bin dev"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev-frontend"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ee-bin dev --serve=frontend"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev-electron"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ee-bin dev --serve=electron"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ee-bin start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"build-frontend"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ee-bin build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("同时启动 frontend (UI) 、electron 两个服务。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])])]),s("ul",[s("li",[t._v("分开启动 frontend (UI) 、electron")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打开两个终端")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev-frontend\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev-electron\n")])])]),s("ul",[s("li",[t._v("构建前端资源。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build-frontend\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("注：如果启动的前端服务不是：http://localhost:8080/  请先配置："),s("RouterLink",{attrs:{to:"/pages/c492f8/"}},[t._v("config/bin.js")]),t._v(" 文件中的 "),s("code",[t._v("frontend")]),t._v(" 对象")],1)]),t._v(" "),s("h4",{attrs:{id:"启动方式二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动方式二"}},[t._v("#")]),t._v(" 启动方式二")]),t._v(" "),s("p",[t._v("旧版本使用，功能受限，请升级"),s("code",[t._v("ee-bin")]),t._v("和"),s("code",[t._v("ee-core")]),t._v("，并添加 "),s("code",[t._v("./electron/config/bin.js")]),t._v(" 配置文件。")]),t._v(" "),s("p",[t._v("package.json")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron . --env=local"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron . "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",[s("li",[t._v("启动前端")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入【前端目录】")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" frontend \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装依赖")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm run serve (old)")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("注：如果启动的前端服务不是：http://localhost:8080/  请先配置："),s("RouterLink",{attrs:{to:"/pages/f7cbf9/"}},[t._v("config")]),t._v(" 文件中的 "),s("code",[t._v("开发模式")])],1)]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("启动主进程")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 项目【根目录】")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 热重载模式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run reload\n")])])]),s("h3",{attrs:{id:"demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),s("p",[t._v("框架集成了许多功能demo示例，方便开发者快速入门。查看"),s("RouterLink",{attrs:{to:"/pages/132909/"}},[t._v("demo文档")])],1),t._v(" "),s("h3",{attrs:{id:"生成软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成软件"}},[t._v("#")]),t._v(" 生成软件")]),t._v(" "),s("p",[t._v("见教程："),s("RouterLink",{attrs:{to:"/pages/ad838d/"}},[s("strong",[t._v("构建可执行程序")])])],1)])}),[],!1,null,null,null);s.default=r.exports}}]);